/*!
Filterize, a jQuery Plugin to filter select list
by Eduard Deza for Hiringo Team, http://hiringo.com

Version 1.0.0
Full source at https://github.com/edezacas/Filterize

MIT License, https://github.com/edezacas/Filterize/blob/master/LICENSE.md
*/

!function(e){function t(t,n){this.element=t,this._name=i,this._defaults=e.fn[i].defaults,this.options=e.extend({},this._defaults,n),this.init()}var i="filterize";e.extend(t.prototype,{init:function(){this.buildWrapper(),this.buildSelect(),this.buildCache(),this.bindEvents()},buildWrapper:function(){var t=e(this.element);t.wrap('<div class="filterize-wrap"></div>').append('<option class="filterize-no_results" value="no-results">'+this.options.noresultsText+"</option>");var i=t.parent();i.prepend('<div class="filterize-title">'+this.options.titleText+'</div><div class="filterize-list"><ul></ul></div>')},buildSelect:function(){var t=e(this.element),i=t.parent(),n=i.find(".filterize-list"),s=i.find("ul"),l=i.find(".filterize-title");l.css("min-width",l.outerWidth());for(var o=0,r=t.children("option").length;r>o;o++){var a=t.children("option").eq(o),u=a.attr("class");"undefined"==typeof u&&(u=""),s.append('<li class="'+u+'" data-value="'+a.val()+'"><p>'+a.text()+"</p></li>")}n.prepend('<div class="filterize-list-search"><input type="text" autocomplete="off" tabindex="1"></div>'),t.hide(),l.on("click",function(){n.stop(!0,!0).slideToggle(),e(this).toggleClass("active")}),this.fireSearch()},buildCache:function(){this.$element=e(this.element)},bindEvents:function(){var e=this;e.$element.on("filterize:update."+e._name,function(){e.update.call(e)})},update:function(){var t=e(this.element),i=t.parent(),n=(i.find(".filterize-list"),i.find("ul")),s=t.find(".filterize-no_results");s.length||t.append('<option class="filterize-no_results" value="no-results">'+this.options.noresultsText+"</option>"),n.empty();for(var l=0,o=t.children("option").length;o>l;l++){var r=t.children("option").eq(l),a=r.attr("class");"undefined"==typeof a&&(a=""),n.append('<li class="'+a+'" data-value="'+r.val()+'"><p>'+r.text()+"</p></li>")}},fireSearch:function(){var t=e(this.element),i=t.parent(),n=i.find(".filterize-list"),s=i.find("ul"),l=i.find(".filterize-title");s.on("click","li",function(){var i=e(this).data("value"),s=e(this).find("p").text();l.text(s),n.slideUp(),t.val(i),t.trigger("change"),l.toggleClass("active")}),e(".filterize-list-search input").on("change",function(){var t=e(this).val(),n=i.find("ul");if(elNoRes=e(n).find(".filterize-no_results"),t){var s=e(n).find("p:containsIN("+t+")"),l=s.parent();e("li",n).not(l).stop(!0,!1).hide(),l.stop(!0,!1).show(),elNoRes.stop(!0,!1).hide(),s.length||elNoRes.stop(!0,!1).show()}else elNoRes.stop(!0,!1).hide(),e(n).find("li:not(.filterize-no_results)").show();return!1}).keyup(function(){e(this).change()}),"1.8.0"!=e.fn.jquery?e.extend(e.expr[":"],{containsIN:function(e,t,i){return(e.textContent||e.innerText||"").toLowerCase().indexOf((i[3]||"").toLowerCase())>=0}}):jQuery.expr[":"].containsIN=jQuery.expr.createPseudo(function(e){return function(t){return jQuery(t).text().toUpperCase().indexOf(e.toUpperCase())>=0}})}}),e.fn[i]=function(n){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new t(this,n))}),this},e.fn[i].defaults={titleText:"Select an option",noresultsText:"No results matched"}}(jQuery,window,document);